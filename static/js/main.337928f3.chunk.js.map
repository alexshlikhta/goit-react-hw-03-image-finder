{"version":3,"sources":["images/searching.jpeg","components/ImagesSearchbar/ImagesSearchbar.jsx","components/ImagesGalleryItem/ImagesGalleryItem.jsx","components/ImagesModal/ImagesModal.jsx","components/ImageGallery/ImageGallery.jsx","components/ImagesMoreButton/ImagesMoreButton.jsx","components/ImagesLoader/ImagesLoader.jsx","components/ImagesNotFound/ImagesNotFound.jsx","components/ImagesDefaults/ImagesDefaults.jsx","components/ImagesRender/ImagesRender.jsx","services/Images_api.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","ImagesSearchbar","state","inputQuery","onSearchInputChange","e","_this","setState","target","value","onSearchBarSubmit","preventDefault","queriedValue","toLowerCase","trim","props","onSubmit","react_default","a","createElement","className","this","type","onChange","placeholder","Component","ImagesGalleryItem","_ref","id","previewURL","onClick","key","src","alt","modal","document","querySelector","ImagesModal","sourceImg","keyDown","event","code","onClose","bgClick","currentTarget","window","addEventListener","removeEventListener","imagesModal","createPortal","ImageGallery","showModal","toggleModal","modalClick","largeImageURL","_this2","images","_this$state","Fragment","map","_ref2","components_ImagesGalleryItem_ImagesGalleryItem","ImagesModal_ImagesModal","ImagesMoreButton","loadMore","ImagesLoader","DotSpinner","size","speed","color","ImagesNotFound","error","ImagesDefaults","image","ImageRender","imagesArr","status","page","scrollTo","top","documentElement","scrollHeight","behavior","block","cleanImages","searchImages","imageQuery","query","fetch","concat","then","res","ok","json","Promise","reject","Error","ImagesAPI","hits","length","Object","toConsumableArray","catch","loadMoreImages","prevState","prevProps","components_ImagesDefaults_ImagesDefaults","components_ImagesLoader_ImagesLoader","ImageGallery_ImageGallery","components_ImagesNotFound_ImagesNotFound","message","components_ImagesMoreButton_ImagesMoreButton","App","handleSubmit","ImagesSearchbar_ImagesSearchbar","ImagesRender_ImageRender","ReactDOM","createRoot","getElementById","render","StrictMode","App_App"],"mappings":"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","file":"static/js/main.337928f3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/searching.640df5ea.jpeg\";","import React, { Component } from 'react';\n\nexport default class ImagesSearchbar extends Component {\n    state = {\n        inputQuery: '',\n    };\n\n    onSearchInputChange = e => {\n        this.setState({\n            inputQuery: e.target.value,\n        });\n    };\n\n    onSearchBarSubmit = e => {\n        e.preventDefault();\n\n        let queriedValue = this.state.inputQuery.toLowerCase().trim();\n        this.props.onSubmit(queriedValue);\n    };\n\n    render() {\n        return (\n            <header className=\"Searchbar\">\n                <form className=\"SearchForm\" onSubmit={this.onSearchBarSubmit}>\n                    <button type=\"submit\" className=\"SearchForm-button\">\n                        <span className=\"button-label\">Search</span>\n                    </button>\n\n                    <input\n                        className=\"SearchForm-input\"\n                        value={this.state.inputQuery}\n                        onChange={this.onSearchInputChange}\n                        placeholder=\"Search images and photos\"\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n","import React from 'react';\n\nconst ImagesGalleryItem = ({ id, previewURL, onClick }) => {\n    return (\n        <li className=\"ImageGalleryItem\" key={id}>\n            <img className=\"ImageGalleryItem-image\" src={previewURL} onClick={onClick} alt=\"\" />\n        </li>\n    );\n};\nexport default ImagesGalleryItem;\n","import { createPortal } from 'react-dom';\nimport React, { Component } from 'react';\n\nconst modal = document.querySelector('#modal');\n\nexport default class ImagesModal extends Component {\n  state = {\n    sourceImg: '',\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.keyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.keyDown);\n  }\n\n  keyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  bgClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { imagesModal } = this.props;\n    \n    return createPortal(\n      <div className=\"Overlay\" onClick={this.bgClick}>\n        <div className=\"Modal\">\n          <img src={imagesModal} alt=\"images\" />\n        </div>\n      </div>,\n      modal,\n    );\n  }\n}","import React, { Component } from 'react';\nimport ImagesGalleryItem from '../ImagesGalleryItem';\nimport ImagesModal from '../ImagesModal';\n\nexport default class ImageGallery extends Component {\n    state = {\n        showModal: false,\n        imagesModal: '',\n    };\n\n    toggleModal = () => {\n        this.setState(({ showModal }) => ({\n            showModal: !showModal,\n        }));\n    };\n\n    modalClick = largeImageURL => {\n        this.setState({ imagesModal: largeImageURL });\n        this.toggleModal();\n    };\n\n    render() {\n        const { images } = this.props;\n        const { imagesModal, showModal } = this.state;\n\n        return (\n            <>\n                <ul className=\"ImageGallery\">\n                    {images.map(({ id, previewURL, largeImageURL }) => (\n                        <ImagesGalleryItem\n                            key={id}\n                            previewURL={previewURL}\n                            onClick={() => {\n                                this.modalClick(largeImageURL);\n                            }}\n                        />\n                    ))}\n                </ul>\n                {showModal && (\n                    <ImagesModal imagesModal={imagesModal} onClose={this.toggleModal} />\n                )}\n            </>\n        );\n    }\n}\n","import React from 'react';\n\nconst ImagesMoreButton = ({ loadMore, onClick }) => {\n    return (\n        <>\n            {loadMore && (\n                <div className=\"ButtonWrap\">\n                    <button className=\"Button\" type=\"button\" onClick={onClick}>\n                        Load more\n                    </button>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default ImagesMoreButton;\n","import { DotSpinner } from '@uiball/loaders';\nimport React from 'react';\n\nconst ImagesLoader = () => {\n    return (\n        <div className=\"Loader\">\n            <DotSpinner size={100} speed={0.6} color=\"#3f51b5\" />\n        </div>\n    );\n};\n\nexport default ImagesLoader;\n","import React from 'react';\n\nconst ImagesNotFound = ({ error }) => {\n    return (\n        <div className=\"Error\">\n            <h2>{error}</h2>\n        </div>\n    );\n};\n\nexport default ImagesNotFound;\n","import React from 'react';\nimport image from '../../images/searching.jpeg';\n\nconst ImagesDefaults = () => {\n    return (\n        <div className=\"Default\">\n            <img src={image} alt=\"searching image\" />\n        </div>\n    );\n};\n\nexport default ImagesDefaults;\n","import React, { Component } from 'react';\nimport ImageGallery from '../ImageGallery';\nimport ImagesAPI from '../../services/Images_api';\nimport ImagesMoreButton from '../ImagesMoreButton';\nimport ImagesLoader from '../ImagesLoader/ImagesLoader';\nimport ImagesNotFound from '../ImagesNotFound';\nimport ImagesDefaults from '../ImagesDefaults/ImagesDefaults';\n\nexport default class ImageRender extends Component {\n    state = {\n        error: false,\n        loadMore: false,\n        imagesArr: [],\n        status: 'idle',\n        page: 1,\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        let prevQuery = prevProps.imageQuery,\n            currQuery = this.props.imageQuery;\n\n        if (prevQuery !== currQuery) {\n            this.setState({ status: 'pending' });\n            this.cleanImages();\n            this.searchImages();\n        }\n\n        if (prevState.page !== this.state.page) {\n            this.setState({ status: 'pending' });\n            this.searchImages();\n        }\n    }\n\n    scrollTo = () => {\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n            block: 'end',\n        });\n    };\n\n    cleanImages = () => {\n        this.setState({ imagesArr: [], page: 1 });\n    };\n\n    searchImages = () => {\n        this.setState({ status: 'pending' });\n\n        const { page } = this.state;\n        const { imageQuery } = this.props;\n\n        if(imageQuery === '') {\n            this.setState({status: 'idle'})\n        } else {\n            ImagesAPI(imageQuery, page)\n            .then(query => {\n                if (query.hits.length === 0) {\n                    return Promise.reject(new Error(`Results for: ${imageQuery}  not found.`));\n                } else {\n                    this.setState({\n                        imagesArr: [...this.state.imagesArr, ...query.hits],\n                        status: 'resolved',\n                        loadMore: true,\n                    });\n                    this.scrollTo();\n\n                    if (query.hits.length < 12) {\n                        this.setState({ loadMore: false });\n                    } \n                }\n            })\n            .catch(error => this.setState({ error: error, status: 'rejected' }));\n        }\n    };\n\n    loadMoreImages = () => {\n        this.setState(prevState => ({ page: prevState.page + 1 }));\n        this.scrollTo();\n    };\n\n    render() {\n        const { imagesArr, status, error, loadMore } = this.state;\n        if (status === 'idle') {\n            return <ImagesDefaults />;\n        }\n\n        if (status === 'pending') {\n            return (\n                <>\n                    <ImagesLoader />\n                    <ImageGallery images={imagesArr} />\n                </>\n            );\n        }\n\n        if (status === 'rejected') {\n            return (\n                <ImagesNotFound error={error.message} />\n            )\n        }\n\n        if (status === 'resolved') {\n            return (\n                <>\n                    <ImageGallery images={imagesArr} />\n                    <ImagesMoreButton onClick={this.loadMoreImages} loadMore={loadMore}></ImagesMoreButton>\n                </>\n            );\n        }\n    }\n}\n","export default function ImagesAPI(query, page) {\n    const API_KEY = '24173514-089b97c8c3d8ec143a8a2c0bb';\n\n    return fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&per_page=12&page=${page}`).then(res => {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(new Error(`Some errors with ${query}`));\n    });\n}\n","import './App.css';\nimport React, { Component } from 'react';\nimport ImagesSearchbar from './components/ImagesSearchbar';\nimport ImagesRender from './components/ImagesRender';\n\nexport default class App extends Component {\n    state = {\n        query: '',\n    };\n\n    handleSubmit = query => {\n        this.setState({ query });\n    };\n\n    render() {\n        return (\n            <div className=\"App\">\n                <ImagesSearchbar onSubmit={this.handleSubmit} />\n                <ImagesRender imageQuery={this.state.query} />\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n);\n"],"sourceRoot":""}